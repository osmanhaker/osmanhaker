document.addEventListener("DOMContentLoaded", function() { const video = document.getElementById("video"); const canvas = document.getElementById("canvas"); const button = document.getElementById("capture"); const photo = document.getElementById("photo"); // دسترسی به دوربین navigator.mediaDevices.getUserMedia({ video: true }) .then(stream => { video.srcObject = stream; }) .catch(error => { console.error("دسترسی به دوربین رد شد:", error); }); // گرفتن عکس از ویدیو button.addEventListener("click", function() { const context = canvas.getContext("2d"); context.drawImage(video, 0, 0, canvas.width, canvas.height); const imageDataURL = canvas.toDataURL("image/png"); // نمایش تصویر photo.src = imageDataURL; photo.style.display = "block"; alert("سلفی گرفته شد!"); }); }); 